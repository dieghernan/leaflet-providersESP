<div class="badges">
  <p><img src="https://img.shields.io/github/v/release/dieghernan/leaflet-providersESP" alt="GitHub release (latest SemVer)" />
<a href="https://doi.org/10.5281/zenodo.4318010"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.4318010.svg" alt="DOI" /></a>
<a href="https://github.com/dieghernan/leaflet-providersESP/actions/workflows/codeql-analysis.yml"><img src="https://github.com/dieghernan/leaflet-providersESP/actions/workflows/codeql-analysis.yml/badge.svg" alt="CodeQL" /></a>
<a href="https://www.codefactor.io/repository/github/dieghernan/leaflet-providersesp"><img src="https://www.codefactor.io/repository/github/dieghernan/leaflet-providersesp/badge" alt="CodeFactor" /></a>
<img src="https://img.shields.io/jsdelivr/gh/hy/dieghernan/leaflet-providersESP" alt="jsDelivr hits (GitHub)" />
<a href="https://ko-fi.com/dieghernan"><img src="https://img.shields.io/badge/buy%20me%20a%20coffee-donate-yellow.svg" alt="ko-fi" /></a></p>
</div>

<p><strong>Leaflet-providersESP</strong> es un plugin para mapas <a href="https://leafletjs.com/">Leaflet</a> que proporciona un acceso fácil a diferentes servicios web de mapas (WMS) y servicios web de mapas teselados (WMTS) proporcionados por organismos públicos de España, como el Instituto Geográfico Nacional (<a href="https://www.ign.es/web/ign/portal/ide-area-nodo-ide-ign">IGN</a>) o el servicio de Infraestructura de Datos Espaciales de España (<a href="https://www.idee.es/directorio-de-servicios">IDEE</a>) del Consejo Superior Geográfico.</p>

<p>Este plugin es compatible con el plugin <a href="https://github.com/leaflet-extras/leaflet-providers">leaflet-providers</a>.</p>

<ul id="markdown-toc">
  <li><a href="#instalación" id="markdown-toc-instalación">Instalación</a>    <ul>
      <li><a href="#via-cdn" id="markdown-toc-via-cdn">Via CDN</a></li>
      <li><a href="#local" id="markdown-toc-local">Local</a></li>
    </ul>
  </li>
  <li><a href="#demos" id="markdown-toc-demos">Demos</a>    <ul>
      <li><a href="#full-page" id="markdown-toc-full-page">Full page</a></li>
      <li><a href="#varias-capas" id="markdown-toc-varias-capas">Varias capas</a></li>
      <li><a href="#leaflet-providersesp--leaflet-providers" id="markdown-toc-leaflet-providersesp--leaflet-providers">leaflet-providersESP + leaflet-providers</a></li>
    </ul>
  </li>
  <li><a href="#proveedores-disponibles" id="markdown-toc-proveedores-disponibles">Proveedores disponibles</a></li>
  <li><a href="#colabora" id="markdown-toc-colabora">Colabora</a></li>
</ul>

<h2 id="instalación">Instalación</h2>

<h3 id="via-cdn">Via CDN</h3>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Latest --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/gh/dieghernan/leaflet-providersESP/dist/leaflet-providersESP.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="c">&lt;!-- By version --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/gh/dieghernan/leaflet-providersESP@v1.3.3/dist/leaflet-providersESP.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<h3 id="local">Local</h3>

<p>Get <a href="https://github.com/dieghernan/leaflet-providersESP/tree/master/dist">leaflet-providersESP.js</a>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Last version --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"./path/to/your/folder/leaflet-providersESP.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>

<h2 id="demos">Demos</h2>

<h3 id="full-page">Full page</h3>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
	<span class="nt">&lt;title&gt;</span>Minimal page | leaflet-providersESP<span class="nt">&lt;/title&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"utf-8"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0"</span><span class="nt">&gt;</span>
	<span class="c">&lt;!-- Load Leaflet --&gt;</span>
	<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://unpkg.com/leaflet@latest/dist/leaflet.css"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/leaflet@latest/dist/leaflet.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="c">&lt;!-- Install leaflet-providersESP --&gt;</span>
	<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/gh/dieghernan/leaflet-providersESP/dist/leaflet-providersESP.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
	<span class="c">&lt;!-- Display map full page --&gt;</span>
	<span class="nt">&lt;style&gt;</span>
	<span class="nt">html</span> <span class="p">{</span>
		<span class="nl">height</span><span class="p">:</span> <span class="m">100%</span>
	<span class="p">}</span>
	<span class="nt">body</span> <span class="p">{</span>
		<span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
		<span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
		<span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="nf">#mapid</span> <span class="p">{</span>
		<span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
		<span class="nl">width</span><span class="p">:</span> <span class="m">100%</span>
	<span class="p">}</span>
	<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
	<span class="c">&lt;!-- Create map --&gt;</span>
	<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"mapid"</span><span class="nt">&gt;&lt;/div&gt;</span>
	<span class="c">&lt;!-- Puerta del Sol - IDErioja server --&gt;</span>
	<span class="nt">&lt;script&gt;</span>
	<span class="kd">var</span> <span class="nx">mymap</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="dl">'</span><span class="s1">mapid</span><span class="dl">'</span><span class="p">).</span><span class="nf">setView</span><span class="p">([</span><span class="mf">40.4166</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.7038400</span><span class="p">],</span> <span class="mi">18</span><span class="p">);</span>
	<span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">.</span><span class="nf">providerESP</span><span class="p">(</span><span class="dl">'</span><span class="s1">IDErioja</span><span class="dl">'</span><span class="p">).</span><span class="nf">addTo</span><span class="p">(</span><span class="nx">mymap</span><span class="p">);</span>
	<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>

<div class="embed-responsive embed-responsive-4by3 my-2 chulapa-rounded-lg border border-primary">
  <iframe class="embed-responsive-item" src="./demo/minimal" allowfullscreen="" loading="lazy"></iframe>
</div>

<p><a id="btndemo1" class="btn btn-block btn-primary btn-sm" href="./demo/minimal" role="button">Full screen</a></p>

<h3 id="varias-capas">Varias capas</h3>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"map"</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="kd">var</span> <span class="nx">map2</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="dl">'</span><span class="s1">map</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span><span class="na">center</span><span class="p">:</span> <span class="p">[</span><span class="mf">37.053333</span><span class="p">,</span><span class="o">-</span><span class="mf">3.311389</span><span class="p">],</span><span class="na">zoom</span><span class="p">:</span> <span class="mi">15</span><span class="p">});</span>
			<span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">.</span><span class="nf">providerESP</span><span class="p">(</span><span class="dl">'</span><span class="s1">LiDAR</span><span class="dl">'</span><span class="p">).</span><span class="nf">addTo</span><span class="p">(</span><span class="nx">map2</span><span class="p">);</span>
			<span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">.</span><span class="nf">providerESP</span><span class="p">(</span><span class="dl">'</span><span class="s1">MDT.CurvasNivel</span><span class="dl">'</span><span class="p">).</span><span class="nf">addTo</span><span class="p">(</span><span class="nx">map2</span><span class="p">);</span>
			<span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">.</span><span class="nf">providerESP</span><span class="p">(</span><span class="dl">'</span><span class="s1">NombresGeograficos</span><span class="dl">'</span><span class="p">).</span><span class="nf">addTo</span><span class="p">(</span><span class="nx">map2</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<div class="embed-responsive embed-responsive-4by3 my-2 chulapa-rounded-lg border border-primary">
  <iframe class="embed-responsive-item" src="./demo/overlays" allowfullscreen="" loading="lazy"></iframe>
</div>

<p><a id="btndemo2" class="btn btn-block btn-primary btn-sm" href="./demo/overlays" role="button">Full screen</a></p>

<h3 id="leaflet-providersesp--leaflet-providers">leaflet-providersESP + leaflet-providers</h3>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"map"</span><span class="nt">&gt;&lt;/div&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/leaflet-providers@latest/leaflet-providers.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="kd">var</span> <span class="nx">map3</span> <span class="o">=</span> <span class="nx">L</span><span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="dl">'</span><span class="s1">map</span><span class="dl">'</span><span class="p">,{</span><span class="na">center</span><span class="p">:</span> <span class="p">[</span><span class="mf">38.8</span><span class="p">,</span><span class="o">-</span><span class="mf">5.3</span><span class="p">],</span><span class="na">zoom</span><span class="p">:</span> <span class="mi">5</span><span class="p">});</span>
  <span class="kd">var</span> <span class="nx">base</span> <span class="o">=</span> <span class="p">{</span><span class="dl">'</span><span class="s1">CartoDB.Positron</span><span class="dl">'</span><span class="p">:</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">.</span><span class="nf">provider</span><span class="p">(</span><span class="dl">'</span><span class="s1">CartoDB.Positron</span><span class="dl">'</span><span class="p">).</span><span class="nf">addTo</span><span class="p">(</span><span class="nx">map3</span><span class="p">),</span>
              <span class="dl">'</span><span class="s1">Esri.WorldTopoMap</span><span class="dl">'</span><span class="p">:</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">.</span><span class="nf">provider</span><span class="p">(</span><span class="dl">'</span><span class="s1">Esri.WorldTopoMap</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">};</span>
  <span class="kd">var</span> <span class="nx">over</span> <span class="o">=</span><span class="p">{</span><span class="dl">'</span><span class="s1">Terremotos Ult. 30dias</span><span class="dl">'</span><span class="p">:</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">.</span><span class="nf">providerESP</span><span class="p">(</span><span class="dl">'</span><span class="s1">Geofisica.Terremotos30dias</span><span class="dl">'</span><span class="p">,{</span><span class="na">transparent</span><span class="p">:</span> <span class="kc">true</span><span class="p">}).</span><span class="nf">addTo</span><span class="p">(</span><span class="nx">map3</span><span class="p">)};</span>
  <span class="nx">L</span><span class="p">.</span><span class="nx">control</span><span class="p">.</span><span class="nf">layers</span><span class="p">(</span><span class="nx">base</span><span class="p">,</span> <span class="nx">over</span><span class="p">,</span> <span class="p">{</span><span class="na">collapsed</span><span class="p">:</span> <span class="kc">false</span><span class="p">}).</span><span class="nf">addTo</span><span class="p">(</span><span class="nx">map3</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<div class="embed-responsive embed-responsive-4by3 my-2 chulapa-rounded-lg border border-primary">
  <iframe class="embed-responsive-item" src="./demo/leafletproviders" allowfullscreen="" loading="lazy"></iframe>
</div>

<p><a id="btndemo3" class="btn btn-block btn-primary btn-sm" href="./demo/leafletproviders" role="button">Full screen</a></p>

<h2 id="proveedores-disponibles">Proveedores disponibles</h2>

<p class="lead"><strong>View all: <a href="https://dieghernan.github.io/leaflet-providersESP/preview/">Preview</a></strong></p>

<p id="pr"></p>

<script src="./js/shared.js"></script>

<script>
  // Add it to the page
  nprovs = document.getElementById('pr');
  nprovs.innerHTML = '<strong class="lead">'
+ allnames.length + '</strong> capas disponibles:';
</script>

<table>
  <thead>
    <tr>
      <th>Proveedor</th>
      <th>Capas</th>
    </tr>
  </thead>
  <tbody id="listprov">
  </tbody>
</table>

<p><em>Nota</em>: En aquellos proveedores con varias capas, la llamada a <code class="language-plaintext highlighter-rouge">PROVEEDOR</code>  equivale a <code class="language-plaintext highlighter-rouge">PROVEEDOR.PRIMERA_CAPA</code>:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">.</span><span class="nf">providerESP</span><span class="p">(</span><span class="dl">'</span><span class="s1">IGNBase</span><span class="dl">'</span><span class="p">)</span> <span class="o">===</span> <span class="nx">L</span><span class="p">.</span><span class="nx">tileLayer</span><span class="p">.</span><span class="nf">providerESP</span><span class="p">(</span><span class="dl">'</span><span class="s1">IGNBase.Todo</span><span class="dl">'</span><span class="p">)</span>

</code></pre></div></div>

<script>
  for (var provider in providersESP) {
    if (providersESP[provider].variants) {
      var allnames = [];
      for (var variant in providersESP[provider].variants) {
        allnames.push('<code>' + variant +'</code>');
      }
    } else {		
      allnames = [];
    }
    row = document.createElement('tr');
    row.innerHTML = '<td><code>' +
    provider + '</code></td><td>'
    + allnames.join(', ') +'</td>';
    document.getElementById('listprov').appendChild(row);
  }
</script>

<h2 id="colabora">Colabora</h2>

<p>Este proyecto es Open Source. Si deseas colaborar puedes abrir un issue o enviar un PR.</p>
